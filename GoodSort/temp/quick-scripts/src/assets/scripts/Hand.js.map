{"version":3,"sources":["assets\\scripts\\Hand.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,4EAA4E;AAC5E,mBAAmB;AACnB,sFAAsF;AACtF,8BAA8B;AAC9B,sFAAsF;;;;;;;;;;;;;;;;;;;;;AAKhF,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAkC,wBAAY;IAA9C;QACE,wBAAwB;QAD1B,qEAgEC;QA7DC,eAAe;QAEP,eAAS,GAAS,IAAI,CAAC;QACvB,aAAO,GAAS,IAAI,CAAC;QACrB,aAAO,GAAS,IAAI,CAAC;QACrB,iBAAW,GAAY,IAAI,CAAC;;QAuDpC,iBAAiB;IACnB,CAAC;IArDC,wBAAS,GAAT;QACE,IAAI,IAAI,CAAC,SAAS,KAAK,IAAI,IAAI,IAAI,CAAC,WAAW,KAAK,IAAI,EAAE;YACxD,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACzB,OAAO;SACR;QACD,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QAExB,IAAI,MAAM,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QACrC,IAAI,OAAO,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;QACnC,kEAAkE;QAClE,oCAAoC;QACpC,KAAK;QACL,0EAA0E;QAE1E,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;QAChE,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;aAChB,aAAa,CACZ,EAAE;aACC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;aAChB,KAAK,CAAC,GAAG,CAAC;aACV,EAAE,CAAC,GAAG,EAAE;YACP,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC;SACvC,CAAC;aACD,IAAI,CACH,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;YACxB,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC;SACnD,CAAC,CACH,CACJ;aACA,KAAK,EAAE,CAAC;IACb,CAAC;IACD,2BAAY,GAAZ,UAAa,IAAU;QACrB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IACxB,CAAC;IACD,yBAAU,GAAV,UAAW,IAAU;QACnB,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,EAAE;YACzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACrB;IACH,CAAC;IACD,yBAAU,GAAV,UAAW,IAAU;QACnB,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,EAAE;YACzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACrB;IACH,CAAC;IACD,6BAAc,GAAd,UAAe,WAAoB;QACjC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;IACjC,CAAC;IAGD,oBAAK,GAAL,cAAU,CAAC;IA7DQ,IAAI;QADxB,OAAO;OACa,IAAI,CAgExB;IAAD,WAAC;CAhED,AAgEC,CAhEiC,EAAE,CAAC,SAAS,GAgE7C;kBAhEoB,IAAI","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport Item from \"./gameplay/Item\";\r\nimport Slot from \"./gameplay/Slot\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Hand extends cc.Component {\r\n  // LIFE-CYCLE CALLBACKS:\r\n\r\n  // onLoad () {}\r\n\r\n  private startItem: Item = null;\r\n  private endSlot: Slot = null;\r\n  private endItem: Item = null;\r\n  private endPosition: cc.Vec3 = null;\r\n\r\n\r\n  startMove() {\r\n    if (this.startItem === null || this.endPosition === null) {\r\n      this.node.active = false;\r\n      return;\r\n    }\r\n    this.node.active = true;\r\n\r\n    let offset = new cc.Vec3(30, -25, 0);\r\n    let offset2 = new cc.Vec2(30, -25);\r\n    // const tempPos = this.endSlot.node.parent.convertToWorldSpaceAR(\r\n    //   this.endSlot.node.getPosition()\r\n    // );\r\n    // let endPos = this.startItem.node.parent.convertToWorldSpaceAR(tempPos);\r\n\r\n    this.node.setParent(this.startItem.node.parent);\r\n    this.node.setPosition(this.startItem.node.position.add(offset));\r\n    cc.tween(this.node)\r\n      .repeatForever(\r\n        cc\r\n          .tween(this.node)\r\n          .delay(0.4)\r\n          .to(1.2, {\r\n            position: this.endPosition.add(offset),\r\n          })\r\n          .then(\r\n            cc.tween(this.node).to(0, {\r\n              position: this.startItem.node.position.add(offset),\r\n            })\r\n          )\r\n      )\r\n      .start();\r\n  }\r\n  setStartItem(item: Item) {\r\n    this.startItem = item;\r\n  }\r\n  setEndSlot(item: Slot) {\r\n    if (this.endSlot === null) {\r\n      this.endSlot = item;\r\n    }\r\n  }\r\n  setEndItem(item: Item) {\r\n    if (this.endItem === null) {\r\n      this.endItem = item;\r\n    }\r\n  }\r\n  setEndPosition(endPosition: cc.Vec3) {\r\n    this.endPosition = endPosition;\r\n  }\r\n\r\n\r\n  start() { }\r\n\r\n  // update (dt) {}\r\n}\r\n"]}